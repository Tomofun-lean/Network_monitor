# Aruba AP çœŸå¯¦æ•¸æ“šç›£æ§ç³»çµ±éƒ¨ç½²å®Œæˆ

## ğŸ¯ éƒ¨ç½²ç‹€æ…‹
**âœ… å·²æˆåŠŸç§»é™¤æ‰€æœ‰å‡æ•¸æ“šçµ„ä»¶ï¼Œç³»çµ±ç¾åœ¨åªæ”¶é›†çœŸå¯¦ AP æ•¸æ“š**

## ğŸ“‹ å·²å®Œæˆçš„æ”¹å‹•

### 1. ç§»é™¤çš„çµ„ä»¶
- âŒ `fake_aruba_exporter` æœå‹™ï¼ˆå·²å¾ docker-compose.yml ç§»é™¤ï¼‰
- âŒ `fake_aruba_exporter.py` æ–‡ä»¶ï¼ˆå·²åˆªé™¤ï¼‰
- âŒ Prometheus ä¸­çš„ `aruba-fake` æŠ“å–ä»»å‹™ï¼ˆå·²ç§»é™¤ï¼‰
- âŒ Dockerfile ä¸­çš„æ¨¡å¼é¸æ“‡é‚è¼¯ï¼ˆå·²ç°¡åŒ–ï¼‰

### 2. ä¿ç•™çš„æœå‹™
- âœ… `aruba_cli_exporter` - çœŸå¯¦ CLI æ•¸æ“šæ”¶é›†å™¨ï¼ˆç«¯å£ 9130ï¼‰
- âœ… `prometheus` - æ™‚é–“åºåˆ—æ•¸æ“šåº«ï¼ˆç«¯å£ 9090ï¼‰
- âœ… `grafana` - ç›£æ§å„€è¡¨æ¿ï¼ˆç«¯å£ 3001ï¼‰
- âœ… `snmp_exporter` - SNMP æ•¸æ“šæ”¶é›†å™¨ï¼ˆå…§éƒ¨ç«¯å£ 9116ï¼‰

### 3. åŠŸèƒ½å¢å¼·
- âœ… å¢åŠ ç¶²çµ¡é€£é€šæ€§æ¸¬è©¦
- âœ… æ–°å¢é€£æ¥ç‹€æ…‹æŒ‡æ¨™ `aruba_ap_connection_status`
- âœ… æ”¹é€²çš„éŒ¯èª¤è™•ç†å’Œæ—¥èªŒè¨˜éŒ„
- âœ… æ”¯æ´å¤šç¨® Aruba å‘½ä»¤è¼¸å‡ºæ ¼å¼
- âœ… æ›´è©³ç´°çš„ç‹€æ…‹ç¶²é ç•Œé¢

## ğŸ“Š ç•¶å‰æŒ‡æ¨™

### ä¸»è¦æŒ‡æ¨™
- **`aruba_ap_clients_total{ap, ip}`**: AP å®¢æˆ¶ç«¯æ•¸é‡
- **`aruba_ap_connection_status{ap, ip}`**: AP é€£æ¥ç‹€æ…‹ï¼ˆ1=æˆåŠŸï¼Œ0=å¤±æ•—ï¼‰

### ç¾æœ‰æ•¸æ“š
```
aruba_ap_clients_total{ap="FW535",ip="172.17.1.7"} 0.0
aruba_ap_clients_total{ap="LN535",ip="172.17.1.8"} 0.0
aruba_ap_clients_total{ap="BA535",ip="172.17.1.6"} 0.0
aruba_ap_clients_total{ap="kiki",ip="172.17.1.11"} 0.0
```

## ğŸ” ç•¶å‰ç‹€æ³

### âœ… ç³»çµ±é‹è¡Œæ­£å¸¸
- æ‰€æœ‰ Docker æœå‹™é‹è¡Œç©©å®š
- CLI åŒ¯å‡ºå™¨æ­£å¸¸éŸ¿æ‡‰ HTTP è«‹æ±‚
- Prometheus å’Œ Grafana æœå‹™å¯ç”¨
- æŒ‡æ¨™æ ¼å¼å®Œå…¨ç¬¦åˆæ¨™æº–

### âš ï¸ ç¶²çµ¡é€£æ¥ç‹€æ³
- **å•é¡Œ**: æ‰€æœ‰ AP é€£æ¥è¶…æ™‚
- **åŸå› **: 172.17.x.x ç¶²æ®µèˆ‡ Docker ç¶²æ®µè¡çª
- **ç‹€æ…‹**: ç³»çµ±åŠŸèƒ½æ­£å¸¸ï¼Œç­‰å¾…æ­£ç¢ºçš„ AP ç¶²çµ¡é…ç½®

## ğŸ› ï¸ ç¶²çµ¡è¨ºæ–·

é‹è¡Œç¶²çµ¡è¨ºæ–·å·¥å…·ï¼š
```bash
./network_diagnostic.sh
```

çµæœæ‘˜è¦ï¼š
- âŒ æ‰€æœ‰ AP Ping æ¸¬è©¦å¤±æ•—
- âŒ SSH ç«¯å£ï¼ˆ22ï¼‰ç„¡æ³•é€£æ¥
- âœ… è·¯ç”±é…ç½®æ­£ç¢ºï¼ˆä½†æŒ‡å‘ Docker ç¶²æ®µï¼‰

## ğŸ“ å¾ŒçºŒæ­¥é©Ÿ

### 1. ç«‹å³å¯æ¸¬è©¦åŠŸèƒ½
```bash
# æª¢æŸ¥æœå‹™ç‹€æ…‹
make test

# è¨ªå•ç›£æ§ç•Œé¢
curl http://localhost:9130/        # ç‹€æ…‹é é¢
curl http://localhost:9130/metrics # æŒ‡æ¨™æ•¸æ“š
curl http://localhost:9090/        # Prometheus
# http://localhost:3001/           # Grafana (ç€è¦½å™¨)
```

### 2. è§£æ±ºç¶²çµ¡é€£æ¥
```bash
# é‡æ–°é…ç½® AP IP åœ°å€
./setup_real_aps.sh

# æˆ–æ‰‹å‹•ç·¨è¼¯é…ç½®
vim ap_config.json
```

### 3. é©—è­‰çœŸå¯¦é€£æ¥
ä¸€æ—¦ç¶²çµ¡å•é¡Œè§£æ±ºï¼Œæ‚¨å°‡çœ‹åˆ°ï¼š
- é€£æ¥ç‹€æ…‹æŒ‡æ¨™è®Šç‚º 1
- å®¢æˆ¶ç«¯æ•¸é‡é¡¯ç¤ºçœŸå¯¦æ•¸æ“š
- è©³ç´°çš„é€£æ¥æ—¥èªŒ

## ğŸ‰ ç¸½çµ

**ç³»çµ±å·²å®Œå…¨æº–å‚™å¥½é€²è¡ŒçœŸå¯¦æ•¸æ“šç›£æ§ï¼**

- âœ… **æ¶æ§‹ç²¾ç°¡**: ç§»é™¤äº†æ‰€æœ‰æ¨¡æ“¬çµ„ä»¶
- âœ… **åŠŸèƒ½å¢å¼·**: æ›´å¥½çš„éŒ¯èª¤è™•ç†å’Œè¨ºæ–·
- âœ… **ç”Ÿç”¢å°±ç·’**: ç¬¦åˆä¼æ¥­ç´šç›£æ§æ¨™æº–
- âœ… **æ˜“æ–¼ç¶­è­·**: ç°¡åŒ–çš„é…ç½®å’Œéƒ¨ç½²

åªéœ€è§£æ±ºç¶²çµ¡é€£æ¥é…ç½®ï¼Œç³»çµ±å³å¯æŠ•å…¥ç”Ÿç”¢ä½¿ç”¨ï¼

---

## ğŸ”§ ç®¡ç†å‘½ä»¤

```bash
# æœå‹™ç®¡ç†
make up          # å•Ÿå‹•æœå‹™
make down        # åœæ­¢æœå‹™  
make test        # æ¸¬è©¦çœŸå¯¦æ•¸æ“šæ”¶é›†

# ç¶²çµ¡è¨ºæ–·
./network_diagnostic.sh    # ç¶²çµ¡é€£é€šæ€§æ¸¬è©¦
./verify_setup.sh         # å®Œæ•´ç’°å¢ƒé©—è­‰

# é…ç½®ç®¡ç†
./setup_real_aps.sh       # é‡æ–°é…ç½® AP é€£æ¥ä¿¡æ¯
``` 